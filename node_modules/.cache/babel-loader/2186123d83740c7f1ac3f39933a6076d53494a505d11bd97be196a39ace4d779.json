{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AGBAR\\\\Documents\\\\yace\\\\src\\\\components\\\\scanner\\\\CameraScanner.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Camera, ScanLine } from 'lucide-react';\nimport GhostButton from '../ui/GhostButton';\nimport Pill from '../ui/Pill';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CameraScanner = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [ready, setReady] = useState(false);\n  const [snapUrl, setSnapUrl] = useState(\"\");\n  useEffect(() => {\n    (async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: false\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n          setReady(true);\n        }\n      } catch (e) {\n        setReady(false);\n      }\n    })();\n    return () => {\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(t => t.stop());\n      }\n    };\n  }, []);\n  const snap = () => {\n    const v = videoRef.current;\n    const c = canvasRef.current;\n    if (!v || !c) return;\n    c.width = v.videoWidth;\n    c.height = v.videoHeight;\n    const ctx = c.getContext(\"2d\");\n    ctx.drawImage(v, 0, 0);\n    setSnapUrl(c.toDataURL(\"image/png\"));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid md:grid-cols-2 gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-2xl overflow-hidden ring-1 ring-white/10 bg-black/50 aspect-video\",\n      children: !ready ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-full flex items-center justify-center text-sm opacity-70\",\n        children: \"Permita a c\\xE2mera para escanear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"w-full h-full object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-2xl p-3 ring-1 ring-white/10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-medium flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Camera, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 72\n          }, this), \" Scanner Inteligente\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GhostButton, {\n          icon: ScanLine,\n          onClick: snap,\n          children: \"Capturar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), snapUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: snapUrl,\n          alt: \"captura\",\n          className: \"rounded-xl ring-1 ring-white/10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs opacity-80\",\n          children: [\"Sugerir a\\xE7\\xF5es: \", /*#__PURE__*/_jsxDEV(Pill, {\n            children: \"OCR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 64\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Pill, {\n            children: \"Validar QR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 81\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Pill, {\n            children: \"Assinar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 105\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Pill, {\n            children: \"Converter em PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 126\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs opacity-70\",\n        children: \"Nenhuma captura ainda.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraScanner, \"RDM+wrnGnZcPqoUGBTPWbEE13S0=\");\n_c = CameraScanner;\nexport default CameraScanner;\nvar _c;\n$RefreshReg$(_c, \"CameraScanner\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Camera","ScanLine","GhostButton","Pill","jsxDEV","_jsxDEV","CameraScanner","_s","videoRef","canvasRef","ready","setReady","snapUrl","setSnapUrl","stream","navigator","mediaDevices","getUserMedia","video","audio","current","srcObject","play","e","tracks","getTracks","forEach","t","stop","snap","v","c","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","toDataURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","size","icon","onClick","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/AGBAR/Documents/yace/src/components/scanner/CameraScanner.js"],"sourcesContent":["  import React, { useEffect, useRef, useState } from 'react';\r\nimport { Camera, ScanLine } from 'lucide-react';\r\nimport GhostButton from '../ui/GhostButton';\r\nimport Pill from '../ui/Pill';\r\n\r\nconst CameraScanner = () => {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const [ready, setReady] = useState(false);\r\n  const [snapUrl, setSnapUrl] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false });\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          await videoRef.current.play();\r\n          setReady(true);\r\n        }\r\n      } catch (e) {\r\n        setReady(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      if (videoRef.current && videoRef.current.srcObject) {\r\n        const tracks = videoRef.current.srcObject.getTracks();\r\n        tracks.forEach((t) => t.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const snap = () => {\r\n    const v = videoRef.current;\r\n    const c = canvasRef.current;\r\n    if (!v || !c) return;\r\n    c.width = v.videoWidth;\r\n    c.height = v.videoHeight;\r\n    const ctx = c.getContext(\"2d\");\r\n    ctx.drawImage(v, 0, 0);\r\n    setSnapUrl(c.toDataURL(\"image/png\"));\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid md:grid-cols-2 gap-4\">\r\n      <div className=\"rounded-2xl overflow-hidden ring-1 ring-white/10 bg-black/50 aspect-video\">\r\n        {!ready ? (\r\n          <div className=\"w-full h-full flex items-center justify-center text-sm opacity-70\">Permita a câmera para escanear</div>\r\n        ) : (\r\n          <video ref={videoRef} className=\"w-full h-full object-cover\" />\r\n        )}\r\n      </div>\r\n      <div className=\"rounded-2xl p-3 ring-1 ring-white/10\">\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <div className=\"text-sm font-medium flex items-center gap-2\"><Camera size={16} /> Scanner Inteligente</div>\r\n          <GhostButton icon={ScanLine} onClick={snap}>Capturar</GhostButton>\r\n        </div>\r\n        <canvas ref={canvasRef} className=\"hidden\" />\r\n        {snapUrl ? (\r\n          <div className=\"space-y-3\">\r\n            <img src={snapUrl} alt=\"captura\" className=\"rounded-xl ring-1 ring-white/10\" />\r\n            <div className=\"text-xs opacity-80\">Sugerir ações: <Pill>OCR</Pill> <Pill>Validar QR</Pill> <Pill>Assinar</Pill> <Pill>Converter em PDF</Pill></div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-xs opacity-70\">Nenhuma captura ainda.</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraScanner;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}